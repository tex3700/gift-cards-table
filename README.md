# gift-cards-table

Создааны скрипты WEB страницы отображающую таблицу подарочных карт с фильтрами по статусу (список), по дате использования (период), по магазину (список).

При выборе использованной карты в таблице, показывает детальную информацию о ней в диалоговом окне.

1.	Объекты системы
      1.1.	 «Подарочная карта» описывается следующими свойствами:
      1.1.1.	Номер карты (целое положительное число)
      1.1.2.	Номинал, руб.
      1.1.3.	Дата использования (NULL если карта не использовалась)
      1.1.4.	Магазин использования ( id магазина - целое положительное число)
      1.1.5.	Номер кассового документа
      1.2.	Кассовый документ
      1.2.1.	Номер кассового документа (целое положительное число)
      1.2.2.	Позиция в чеке (целое положительное число)
      1.2.3.	Наименование товара (строка)
      1.2.4.	Единица измерения (строка)
      1.2.5.	Количество
      1.2.6.	Цена
      1.2.7.	Стоимость
      1.3.	Магазин
      1.3.1.	Номер магазина (целое положительное число)
      1.3.2.	Наименование магазина (строка)
2.	Скрипт API для получения (эмуляции получения с задержкой выдачи данных 3 сек.) данных из БД
      2.1.	Получение перечня подарочных карт по фильтрам:
      2.1.1.	Входные параметры:
      2.1.1.1.	Статус карты (Выпущена – есть запись в БД, Не использована – дата исп.=NULL, Использована – дата исп. <>NULL)
      2.1.1.2.	Период даты использования
      2.1.1.3.	Магазин использования
      2.1.2.	Выходные данные JSON
      2.1.2.1.	Номер карты (целое положительное число)
      2.1.2.2.	Номинал, руб.
      2.1.2.3.	Дата использования
      2.1.2.4.	Магазин использования
      2.1.2.5.	Номер кассового документа
      2.2.	Получение информации об использованной карте
      2.2.1.	Входные параметры:
      2.2.1.1.	Номер карты
      2.2.2.	Выходные данные JSON
      2.2.2.1.	Номер карты (целое положительное число)
      2.2.2.2.	Номинал, руб.
      2.2.2.3.	Не использовано, руб.
      2.2.2.4.	Дата использования
      2.2.2.5.	Магазин использования
      2.2.2.6.	Номер кассового документа
      2.2.2.7.	Состав кассового документа (№ позиции, Наименование товара, Кол-во, Цена, Стоимость)

Для работы системы необходимо создание БД, параметры прописываются в файле db_connect.php.
Для создаания таблиц необходимо запустить файл migrate.php.
Файл db_seed.php для заполнения базы тестовыми данными.

Валидация входящих данных отдельно не прописана, реализована небольшая проверка в api.php